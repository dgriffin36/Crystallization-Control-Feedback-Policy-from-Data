<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Crystallization Control: feedback policy from data : code published for &quot;Data-Driven Modeling and Dynamic Programming Applied to Batch Cooling Crystallization&quot;">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Crystallization Control: feedback policy from data</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/dgriffin36/Crystallization-Control-Feedback-Policy-from-Data">View on GitHub</a>

          <h1 id="project_title">Crystallization Control: feedback policy from data</h1>
          <h2 id="project_tagline">code published for &quot;Data-Driven Modeling and Dynamic Programming Applied to Batch Cooling Crystallization&quot;</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/dgriffin36/Crystallization-Control-Feedback-Policy-from-Data/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/dgriffin36/Crystallization-Control-Feedback-Policy-from-Data/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview</h1>

<p>This code has been posted in association with the manuscript titled "Data-Driven Modeling and Dynamic Programming Applied to Batch Cooling Crystallization" by D. J. Griffin, M. A. Grover, Y. Kawajiri, and R. W. Rousseau. The main function is  ObtainPolicy.m. This is a MATLAB function that takes experimental data on crystallization dynamics and outputs a feedback control policy for reaching a target crystal mass and chord count. For more details, please consult the associated manuscript.</p>

<h3>
<a id="running-obtainpolicy" class="anchor" href="#running-obtainpolicy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running ObtainPolicy</h3>

<p>To run this function, the m-files in the subfunctions folder must be in the same path. In addition, CVX (Software for Disciplined Convex Programming [1],[2]) is required. This must be installed and in the appropriate path: <a href="http://cvxr.com/cvx/download/">http://cvxr.com/cvx/download/</a>.  Note: for commercial use with non-free solvers, such as MATLAB, please obtain the appropriate license (<a href="http://cvxr.com/cvx/licensing/">http://cvxr.com/cvx/licensing/</a>).</p>

<h3>
<a id="viewing-and-using-the-output-policy" class="anchor" href="#viewing-and-using-the-output-policy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Viewing and Using the Output Policy</h3>

<p>The output policy can be viewed as a time-varying colormap using viewPolicy.m. The output policy can be interpreted using inputFromPolicy.m. </p>

<h3>
<a id="example-data" class="anchor" href="#example-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example Data</h3>

<p>Example data has been provided in ExampleData.mat. Once the required functions have been added to the appropriate directory in MATLAB, the policy given for Test Run 2 can be obtained by opening the data file (so that each input variable is specified in the Workspace) and then entering the Command &gt;&gt; [Pol]=ObtainPolicy(Xtr,Utr,dXtr,dt,Dt,xTarget,N,rho,gamma,Grid).</p>

<h3>
<a id="inputs-to-obtainpolicy" class="anchor" href="#inputs-to-obtainpolicy" aria-hidden="true"><span class="octicon octicon-link"></span></a>Inputs to ObtainPolicy</h3>

<p>There are a number of inputs to ObtainPolicy. The inputs specify: the training data, the length of the time steps, the target position in mass-count space, the batch run time, adjustable parameters in the optimization formulation, and the space-input discretization to use.</p>

<p>REQUIRED</p>

<p>Xtr     - Contains training data 'positions'.</p>

<p>Utr     - Contains training data inputs.</p>

<p>dXtr    - Contains training data 'movements'. </p>

<p>dt      - The time interval between measurements [min.].</p>

<p>Dt      - The time interval over which the input is held constant [min.].</p>

<p>xTarget - The target position [count, mass].</p>

<p>N       - The number of time intervals in the control run.</p>

<p>OPTIONAL</p>

<p>rho     - Parameter that weights the input-effort cost (default: 25).</p>

<p>gamma     - Parameter that weights the running distance-to-target (default: 5).</p>

<p>Grid    - Structure containing the grid spacing for: count (Grid.c), mass (Grid.m), supersaturation (Grid.s), and the count "normalizing scale" (Grid.scale).</p>

<h3>
<a id="note-on-computation-time" class="anchor" href="#note-on-computation-time" aria-hidden="true"><span class="octicon octicon-link"></span></a>Note on Computation Time</h3>

<p>Depending on input data and discretization, the function may require substantial computation time (on the order of 30 minutes for the example data with the given Grid). The modeling step takes the longest. Prompts and visuals have been added as progress checks. These should be commented-out to run the function unattended.</p>

<h3>
<a id="bibliography" class="anchor" href="#bibliography" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bibliography</h3>

<p>[1] Michael Grant and Stephen Boyd. CVX: Matlab software for disciplined convex programming, version 2.0 beta. <a href="http://cvxr.com/cvx">http://cvxr.com/cvx</a>, September 2013.</p>

<p>[2] Michael Grant and Stephen Boyd. Graph implementations for nonsmooth convex programs, Recent Advances in Learning and Control (a tribute to M. Vidyasagar), V. Blondel, S. Boyd, and H. Kimura, editors, pages 95-110, Lecture Notes in Control and Information Sciences, Springer, 2008. <a href="http://stanford.edu/%7Eboyd/graph_dcp.html">http://stanford.edu/~boyd/graph_dcp.html</a>.</p>

<h3>
<a id="copyright" class="anchor" href="#copyright" aria-hidden="true"><span class="octicon octicon-link"></span></a>Copyright</h3>

<p>Copyright 2015, Daniel Griffin.</p>

<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>

<p>This program is distributed in the hope that it will be useful, but without any warranty; without even the implied warranty of merchantability or fitness for a particular purpose. See the GNU General Public License for more details: <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Crystallization Control: feedback policy from data maintained by <a href="https://github.com/dgriffin36">dgriffin36</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-71036289-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
