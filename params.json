{"name":"Crystallization-control-feedback-policy-from-data","tagline":"","body":"# Crystallization Control: Feedback Policy from Data\r\n\r\nThis code has been posted in association with the manuscript titled \"Data-Driven Modeling and Dynamic Programming Applied to Batch Cooling Crystallization\" by D. J. Griffin, M. A. Grover, Y. Kawajiri, and R. W. Rousseau. The main function, ObtainPolicy.m, is a MATLAB function that takes as input experimental data on crystallization dynamics and outputs a feedback control policy for reaching a target crystall mass and chord count. To run this function, the m-files in the subfunctions folder must be in the same path. The output policy can be viewed as a time-varying colormap using viewPolicy.m; the output policy can be interpreted using inputFromPolicy.m. \r\n\r\nExample data has been provided in ExampleData.mat. Once the required functions have been added to the appropriate directory in MATLAB, the policy given for Test Run 2 can be obtained by opening the data file (so that each input variable is specified in the Workspace) and then entering the Command >> [Pol]=ObtainPolicy(Xtr,Utr,dXtr,dt,Dt,xTarget,N,rho,gamma,Grid).\r\n\r\n## ObtainPolicy\r\nThe process has two important steps: 1. data-driven modeling, and 2. dynamic programming. In the first step a convex optimization problem is posed. This problem is solved with CVX: Software for Disciplined Convex Programming [1],[2]. For this function to run, CVX must be installed and in the appropriate path: http://cvxr.com/cvx/download/. Note: for commercial use with non-free solvers, such as MATLAB, please obtain the appropriate license (http://cvxr.com/cvx/licensing/).\r\n\r\n###Inputs\r\nThere are a number of inputs. The inputs specify: the training data, the length of the time steps, the target position in mass-count space, the batch run time, adjustable parameters in the optimization formulation, and the space-input discretization to use.\r\n   \r\nREQUIRED\r\n\r\n  Xtr     - Contains training data 'positions'.\r\n  \r\n  Utr     - Contains training data inputs.\r\n  \r\n  dXtr    - Contains training data 'movements'. \r\n  \r\n  dt      - The time interval between measuremetns [min.].\r\n  \r\n  Dt      - The time interval over which the input is held constant [min.].\r\n  \r\n  xTarget - The target position [count, mass].\r\n  \r\n  N       - The number of time intervals in the control run.\r\n\r\nOPTIONAL\r\n\r\n  rho     - Parameter that weights the input-effort cost (default: 25).\r\n  \r\n  gamma \t- Parameter that weights the running distance-to-target (default: 5).\r\n  \r\n  Grid    - Structure containing the grid spacing for: count (Grid.c), mass (Grid.m), and supersaturation (Grid.s).\r\n \r\n###Note on Computation Time\r\nDepending on input data and discretization, the function may require substantial computation time (on the order of 30 minutes for the example data with the given Grid). The modeling step takes the longest. Prompts and visuals have been added as progress checks. These should be commented-out to run the function unattended.\r\n\r\n###Bibliography\r\n[1] Michael Grant and Stephen Boyd. CVX: Matlab software for disciplined convex programming, version 2.0 beta. http://cvxr.com/cvx, September 2013.\r\n\r\n[2] Michael Grant and Stephen Boyd. Graph implementations for nonsmooth convex programs, Recent Advances in Learning and Control (a tribute to M. Vidyasagar), V. Blondel, S. Boyd, and H. Kimura, editors, pages 95-110, Lecture Notes in Control and Information Sciences, Springer, 2008. http://stanford.edu/~boyd/graph_dcp.html.\r\n\r\n###Copyright\r\nCopyright 2015, Daniel Griffin.\r\n\r\nThis program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful, but without any warranty; without even the implied warranty of merchantability or fitness for a particular purpose. See the GNU General Public License for more details: <http://www.gnu.org/licenses/>.\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}